package com.example.demo.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.demo.mapper.FactoryMapper;
import com.example.demo.myexcept.MyExceptionHandler;
import com.example.demo.pojo.Factory;
import com.example.demo.pojo.PageRequest;
import com.example.demo.pojo.ResultUtil;
import com.github.pagehelper.PageHelper;

@Service
public class FactoryServiceImpl implements FactoryService {
	
	@Autowired
	FactoryMapper factoryMapper;
	/**
     * 调用分页插件完成分页
     * @param pageRequest
     * @return
     */
	public List<Factory> getAllFactoris(PageRequest pageRequest) {
		try {
			int pageNum = pageRequest.getPageNum();
			int pageSize = pageRequest.getPageSize();
			
			if (pageNum <= 0 || pageSize <= 0) {
				
				throw new IllegalArgumentException("非法分页数据");
			}
			
			PageHelper.startPage(pageNum, pageSize);
			List<Factory> factoriesList = factoryMapper.selectFactoryPage(user_id);
			
		} catch (IllegalArgumentException e1) {
			MyExceptionHandler.takeLog(e1);
			return null;
		}
		
	}
}
